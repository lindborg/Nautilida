package nautilida {	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.TimerEvent;	import flash.utils.Timer;	import nautilida.levels.Level;		public class Platform extends MovieClip {		public var level:Level;		public var info:MovieClip;				public var points:int = 0;		public var pointsTotal:int = 0;				private var timer:Timer;				public function Platform() {			addEventListener(Event.ADDED_TO_STAGE,onAdded);			timer = new Timer(3000);			timer.start();		}		private function onAdded(event:Event):void {			gotoAndStop(1);			timer.addEventListener(TimerEvent.TIMER,onTimer);		}		private function onTimer(event:TimerEvent):void {			if(isLevel) {				points--;				points = Math.max(0,points);				updateInfo();			}		}		public function next():void {			level = null;			nextFrame();		}		public function setLevel(newLevel:Level):void {			level = newLevel;		}		public function achive(achived:int):int {			points += achived;						updateInfo();						return points;		}		public function updateInfo():void {			info.pointsField.text = points.toString();		}		public function get isLevel():Boolean {			return (level !== null);		}	}}